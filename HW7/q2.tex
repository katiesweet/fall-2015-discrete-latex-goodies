Use generating functions to find a closed formula for the sequence $(a_n)_{n\ge0}$ that is defined by the recurrence relation $a_n = 2a_{n-1} + n$, for $n>0$. and $a_0=1$.
\begin{framed}
	\begin{align*}
		g(x) &= \sum_{n\ge0}a_nx_n\\
		a_n &= 2a_{n-1} + n + [n=0]\\
		\sum_{n\ge0}a_nx_n&= 2\sum_{n\ge0}a_{n-1}x^n + \sum_{n\ge0}nx^n + \sum_{n\ge0}[n=0]x^n\\
		&= 2x\sum_{n\ge0}a_{n-1}x^{n-1} + \sum_{n\ge0}nx^n + \sum_{n\ge0}[n=0]x^n\\
		g(x)&= 2xg(x) + \frac{1}{(1-x)^2} + x^0\\
		g(x)-2xg(x) &=  + \frac{x}{(1-x)^2} + 1\\
		g(x)(1-2x) &=  + \frac{x}{(1-x)^2}+\frac{(1-x)^2}{(1-x)^2}\\
		g(x) &=  \frac{x+(1-x)^2}{(1-2x)(1-x)^2}\\
			&= \frac{3}{1-2x}-\frac{1}{1-x} -\frac{1}{(1-x)^2}\\
			&= 3\sum_{n\ge0}2^nx^n - \sum_{n\ge0}x^n - \sum_{n\ge0}(n+1)x^n\\
		a_n &= 3\cdot2^n - 1 - (n+1)\\
			&=  3\cdot2^n - n - 2
	\end{align*}
\end{framed}